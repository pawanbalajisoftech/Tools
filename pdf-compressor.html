<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Free PDF Compressor (Client-Side) — Fast, Private & Mobile-Friendly</title>
  <meta name="description" content="Compress PDF files entirely in your browser. No uploads. Adjustable quality, DPI, grayscale, page range, and more. SEO-optimized and mobile-friendly." />
  <link rel="canonical" href="https://example.com/pdf-compressor" />
  <meta property="og:title" content="Free PDF Compressor (Client-Side)" />
  <meta property="og:description" content="Compress PDFs privately in your browser with quality, DPI and grayscale controls. No server uploads." />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="https://example.com/og-image.png" />
  <meta name="robots" content="index,follow" />

  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "SoftwareApplication",
    "name": "Client-Side PDF Compressor",
    "applicationCategory": "UtilitiesApplication",
    "operatingSystem": "Web",
    "offers": {"@type": "Offer", "price": "0", "priceCurrency": "USD"},
    "description": "Compress PDF files in the browser with adjustable quality, DPI, grayscale, and page range options.",
    "url": "https://example.com/pdf-compressor"
  }
  </script>

  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .ad-placeholder { background: repeating-linear-gradient(45deg,#f3f4f6,#f3f4f6 10px,#e5e7eb 10px,#e5e7eb 20px); }
    .sr-only-focusable:active, .sr-only-focusable:focus { position: static; width: auto; height: auto; margin: 0; overflow: visible; clip: auto; }
    canvas { max-width: 100%; height: auto; }
  </style>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/4.7.76/pdf.min.js"></script>
  <script>
    if (window['pdfjsLib']) {
      pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/4.7.76/pdf.worker.min.js';
    }
  </script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body class="bg-white text-gray-900 antialiased">
  <a href="#main" class="sr-only sr-only-focusable">Skip to main content</a>

  <header class="sticky top-0 z-40 bg-white/80 backdrop-blur border-b border-gray-200">
    <div class="max-w-6xl mx-auto px-4 py-3 flex items-center justify-between">
      <h1 class="text-xl sm:text-2xl font-semibold tracking-tight">Client-Side PDF Compressor</h1>
      <nav class="hidden md:flex gap-6 text-sm" aria-label="Primary">
        <a href="#features" class="hover:underline">Features</a>
        <a href="#how" class="hover:underline">How it works</a>
        <a href="#faq" class="hover:underline">FAQ</a>
      </nav>
    </div>
  </header>

  <div class="ad-placeholder" role="complementary" aria-label="Top advertisement" id="ad-top">
    <div class="max-w-6xl mx-auto px-4 py-6 text-center text-gray-600">Top Banner Ad 728x90 (replace with your ad code)</div>
  </div>

  <main id="main" class="max-w-6xl mx-auto px-4 py-8 grid grid-cols-1 lg:grid-cols-12 gap-8">
    <section class="lg:col-span-7">
      <div class="p-5 rounded-2xl shadow-sm border border-gray-200">
        <h2 class="text-lg font-semibold mb-3">Compress your PDF — fully in your browser</h2>
        <p class="text-sm text-gray-600 mb-4">No uploads, no tracking. Drop a file or choose one. Adjust compression and download your optimized PDF.</p>

        <div id="dropzone" class="rounded-xl border-2 border-dashed border-gray-300 p-6 text-center cursor-pointer hover:bg-gray-50">
          <input id="file" type="file" accept="application/pdf" class="hidden" />
          <p class="text-sm">Drag & drop your PDF here, or <span class="underline">browse</span></p>
          <p id="fileInfo" class="mt-2 text-xs text-gray-500">Max ~200MB (device dependent)</p>
          <div id="uploadProgressWrap" class="mt-4 hidden">
            <div class="flex justify-between text-xs mb-1"><span>Uploading…</span><span id="uploadPct">0%</span></div>
            <div class="w-full bg-gray-200 rounded-full h-2"><div id="uploadBar" class="h-2 rounded-full bg-blue-600" style="width:0%"></div></div>
          </div>
        </div>

        <form class="mt-6 grid grid-cols-1 md:grid-cols-2 gap-4" id="optionsForm">
          <div class="md:col-span-2">
            <button id="compressBtn" type="button" class="w-full md:w-auto inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-black text-white hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed" disabled>
              <span>Compress PDF</span>
            </button>
          </div>
        </form>

        <div class="mt-6" id="progressWrap" hidden>
          <div class="flex justify-between text-sm mb-1"><span id="progressLabel">Preparing…</span><span id="progressPct">0%</span></div>
          <div class="w-full bg-gray-200 rounded-full h-2"><div id="progressBar" class="h-2 rounded-full bg-gray-900" style="width:0%"></div></div>
          <p id="estimates" class="text-xs text-gray-500 mt-2"></p>
        </div>

        <div class="mt-6" id="resultWrap" hidden>
          <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 p-4 rounded-xl border border-gray-200">
            <div>
              <p class="text-sm"><strong>Original:</strong> <span id="origSize">—</span> • <span id="origPages">—</span> pages</p>
              <p class="text-sm"><strong>Compressed:</strong> <span id="newSize">—</span> (est.)</p>
            </div>
            <div class="flex gap-3">
              <a id="downloadBtn" href="#" download class="inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-green-600 text-white hover:bg-green-700">Download</a>
              <button id="resetBtn" class="px-4 py-2 rounded-xl border border-gray-300 hover:bg-gray-50">Reset</button>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer class="border-t border-gray-200">
    <div class="max-w-6xl mx-auto px-4 py-8 text-sm text-gray-600 flex flex-col sm:flex-row items-center justify-between gap-3">
      <p>© <span id="year"></span> Client-Side PDF Compressor</p>
    </div>
  </footer>

  <script>
    const dropzone = document.getElementById('dropzone');
    const fileInput = document.getElementById('file');
    const fileInfo = document.getElementById('fileInfo');
    const compressBtn = document.getElementById('compressBtn');
    const origSizeEl = document.getElementById('origSize');
    const origPagesEl = document.getElementById('origPages');
    const newSizeEl = document.getElementById('newSize');
    const downloadBtn = document.getElementById('downloadBtn');
    const resetBtn = document.getElementById('resetBtn');

    const uploadWrap = document.getElementById('uploadProgressWrap');
    const uploadBar = document.getElementById('uploadBar');
    const uploadPct = document.getElementById('uploadPct');

    let loadedPdf = null;
    let loadedFile = null;

    function humanSize(bytes){
      if (!bytes && bytes !== 0) return '—';
      const sizes = ['B','KB','MB','GB'];
      const i = Math.min(Math.floor(Math.log(bytes)/Math.log(1024)), sizes.length-1);
      const val = bytes / Math.pow(1024, i);
      return `${val.toFixed(val > 9 || i === 0 ? 0 : 1)} ${sizes[i]}`;
    }

    dropzone.addEventListener('click', ()=> fileInput.click());
    fileInput.addEventListener('change', e=>{
      const f = e.target.files?.[0];
      if(f) simulateUpload(f);
    });

    function simulateUpload(file){
      uploadWrap.classList.remove('hidden');
      uploadBar.style.width = '0%';
      uploadPct.textContent = '0%';
      let progress = 0;
      const interval = setInterval(()=>{
        progress += 10;
        uploadBar.style.width = progress + '%';
        uploadPct.textContent = progress + '%';
        if(progress >= 100){
          clearInterval(interval);
          handleFile(file);
        }
      }, 100);
    }

    async function handleFile(file){
      if(file.type !== 'application/pdf'){
        alert('Please choose a PDF file.');
        return;
      }
      loadedFile = file;
      fileInfo.textContent = `${file.name} • ${humanSize(file.size)}`;

      const buf = await file.arrayBuffer();
      const loadingTask = pdfjsLib.getDocument({ data: buf });
      loadedPdf = await loadingTask.promise;

      origSizeEl.textContent = humanSize(file.size);
      origPagesEl.textContent = loadedPdf.numPages;

      compressBtn.disabled = false;
      uploadWrap.classList.add('hidden');
    }

    async function compress(){
      if(!loadedPdf || !loadedFile) return;
      alert('Compression would run here.');
    }

    compressBtn.addEventListener('click', compress);
    resetBtn.addEventListener('click', ()=>{
      loadedPdf = null; loadedFile = null; fileInput.value = '';
      fileInfo.textContent = 'Max ~200MB (device dependent)';
      compressBtn.disabled = true;
      uploadWrap.classList.add('hidden');
      uploadBar.style.width = '0%';
      uploadPct.textContent = '0%';
    });

    document.getElementById('year').textContent = new Date().getFullYear();
  </script>
</body>
</html>
